!function(){var t,n,s,o,i,a,r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O,x,C,E,k,e=function(t){var n=new e.Builder;return n.pipeline.add(e.trimmer,e.stopWordFilter,e.stemmer),n.searchPipeline.add(e.stemmer),t.call(n,n),n.build()};function A(e){if(e.length<3)return e;if("y"==(A=e.substr(0,1))&&(e=A.toUpperCase()+e.substr(1)),a=d,(s=l).test(e)?e=e.replace(s,"$1$2"):a.test(e)&&(e=e.replace(a,"$1$2")),a=h,(s=u).test(e)){var s,i,a,C,A,S,M,f=s.exec(e);(s=o).test(f[1])&&(s=n,e=e.replace(s,""))}else a.test(e)&&(i=(f=a.exec(e))[1],(a=b).test(i)&&(S=p,M=g,(a=r).test(e=i)?e+="e":S.test(e)?(s=n,e=e.replace(s,"")):M.test(e)&&(e+="e")));return(s=v).test(e)&&(e=(i=(f=s.exec(e))[1])+"i"),(s=c).test(e)&&(i=(f=s.exec(e))[1],C=f[2],(s=o).test(i)&&(e=i+k[C])),(s=j).test(e)&&(i=(f=s.exec(e))[1],C=f[2],(s=o).test(i)&&(e=i+E[C])),a=_,(s=y).test(e)?(i=(f=s.exec(e))[1],(s=t).test(i)&&(e=i)):a.test(e)&&(i=(f=a.exec(e))[1]+f[2],(a=t).test(i)&&(e=i)),(s=w).test(e)&&(i=(f=s.exec(e))[1],a=m,S=x,((s=t).test(i)||a.test(i)&&!S.test(i))&&(e=i)),a=t,(s=O).test(e)&&a.test(e)&&(s=n,e=e.replace(s,"")),"y"==A&&(e=A.toLowerCase()+e.substr(1)),e}e.version="2.3.8",e.utils={},e.utils.warn=(f=this,function(e){f.console&&console.warn&&console.warn(e)}),e.utils.asString=function(e){return e==null?"":e.toString()},e.utils.clone=function(e){if(e==null)return e;for(var t,n,s=Object.create(null),i=Object.keys(e),o=0;o<i.length;o++)if(n=i[o],t=e[n],Array.isArray(t))s[n]=t.slice();else{if("string"!=typeof t&&"number"!=typeof t&&"boolean"!=typeof t)throw new TypeError("clone is not deep and does not support nested objects");s[n]=t}return s},e.FieldRef=function(e,t,n){this.docRef=e,this.fieldName=t,this._stringValue=n},e.FieldRef.joiner="/",e.FieldRef.fromString=function(t){if(n=t.indexOf(e.FieldRef.joiner),-1===n)throw"malformed field ref string";var n,s=t.slice(0,n),o=t.slice(n+1);return new e.FieldRef(o,s,t)},e.FieldRef.prototype.toString=function(){return null==this._stringValue&&(this._stringValue=this.fieldName+e.FieldRef.joiner+this.docRef),this._stringValue},e.Set=function(e){if(this.elements=Object.create(null),e){this.length=e.length;for(var t=0;t<this.length;t++)this.elements[e[t]]=!0}else this.length=0},e.Set.complete={intersect:function(e){return e},union:function(e){return e},contains:function(){return!0}},e.Set.empty={intersect:function(){return this},union:function(e){return e},contains:function(){return!1}},e.Set.prototype.contains=function(e){return!!this.elements[e]},e.Set.prototype.intersect=function(t){var n,s,o,i,a,r=[];if(t===e.Set.complete)return this;if(t===e.Set.empty)return t;a=this.length<t.length?(s=this,t):(s=t,this),o=Object.keys(s.elements);for(n=0;n<o.length;n++)i=o[n],i in a.elements&&r.push(i);return new e.Set(r)},e.Set.prototype.union=function(t){return t===e.Set.complete?e.Set.complete:t===e.Set.empty?this:new e.Set(Object.keys(this.elements).concat(Object.keys(t.elements)))},e.idf=function(e,t){var s,o,n=0;for(s in e)"_index"!=s&&(n+=Object.keys(e[s]).length);return o=(t-n+.5)/(n+.5),Math.log(1+Math.abs(o))},e.Token=function(e,t){this.str=e||"",this.metadata=t||{}},e.Token.prototype.toString=function(){return this.str},e.Token.prototype.update=function(e){return this.str=e(this.str,this.metadata),this},e.Token.prototype.clone=function(t){return t=t||function(e){return e},new e.Token(t(this.str,this.metadata),this.metadata)},e.tokenizer=function(t,n){if(t==null)return[];if(Array.isArray(t))return t.map(function(t){return new e.Token(e.utils.asString(t).toLowerCase(),e.utils.clone(n))});for(var i,c,a=t.toString().toLowerCase(),l=a.length,r=[],s=0,o=0;s<=l;s++)c=s-o,(a.charAt(s).match(e.tokenizer.separator)||s==l)&&(0<c&&(i=e.utils.clone(n)||{},i.position=[o,c],i.index=r.length,r.push(new e.Token(a.slice(o,s),i))),o=s+1);return r},e.tokenizer.separator=/[\s-]+/,e.Pipeline=function(){this._stack=[]},e.Pipeline.registeredFunctions=Object.create(null),e.Pipeline.registerFunction=function(t,n){n in this.registeredFunctions&&e.utils.warn("Overwriting existing registered function: "+n),t.label=n,e.Pipeline.registeredFunctions[t.label]=t},e.Pipeline.warnIfFunctionNotRegistered=function(t){t.label&&t.label in this.registeredFunctions||e.utils.warn(`Function is not registered with pipeline. This may cause problems when serialising the index.
`,t)},e.Pipeline.load=function(t){var n=new e.Pipeline;return t.forEach(function(t){var s=e.Pipeline.registeredFunctions[t];if(!s)throw new Error("Cannot load unregistered function: "+t);n.add(s)}),n},e.Pipeline.prototype.add=function(){Array.prototype.slice.call(arguments).forEach(function(t){e.Pipeline.warnIfFunctionNotRegistered(t),this._stack.push(t)},this)},e.Pipeline.prototype.after=function(t,n){e.Pipeline.warnIfFunctionNotRegistered(n);var s=this._stack.indexOf(t);if(-1==s)throw new Error("Cannot find existingFn");s+=1,this._stack.splice(s,0,n)},e.Pipeline.prototype.before=function(t,n){e.Pipeline.warnIfFunctionNotRegistered(n);var s=this._stack.indexOf(t);if(-1==s)throw new Error("Cannot find existingFn");this._stack.splice(s,0,n)},e.Pipeline.prototype.remove=function(e){var t=this._stack.indexOf(e);-1!=t&&this._stack.splice(t,1)},e.Pipeline.prototype.run=function(e){for(a=this._stack.length,n=0;n<a;n++){for(var t,n,o,a,r=this._stack[n],i=[],s=0;s<e.length;s++)if(t=r(e[s],s,e),t!=null&&""!==t)if(Array.isArray(t))for(o=0;o<t.length;o++)i.push(t[o]);else i.push(t);e=i}return e},e.Pipeline.prototype.runString=function(t,n){var s=new e.Token(t,n);return this.run([s]).map(function(e){return e.toString()})},e.Pipeline.prototype.reset=function(){this._stack=[]},e.Pipeline.prototype.toJSON=function(){return this._stack.map(function(t){return e.Pipeline.warnIfFunctionNotRegistered(t),t.label})},e.Vector=function(e){this._magnitude=0,this.elements=e||[]},e.Vector.prototype.positionForIndex=function(e){if(0==this.elements.length)return 0;for(var s=0,i=this.elements.length/2,o=i-s,t=Math.floor(o/2),n=this.elements[2*t];1<o&&(n<e&&(s=t),e<n&&(i=t),n!=e);)o=i-s,t=s+Math.floor(o/2),n=this.elements[2*t];return n==e?2*t:e<n?2*t:n<e?2*(t+1):void 0},e.Vector.prototype.insert=function(e,t){this.upsert(e,t,function(){throw"duplicate index"})},e.Vector.prototype.upsert=function(e,t,n){this._magnitude=0;var s=this.positionForIndex(e);this.elements[s]==e?this.elements[s+1]=n(this.elements[s+1],t):this.elements.splice(s,0,e,t)},e.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var t,n=0,s=this.elements.length,e=1;e<s;e+=2)t=this.elements[e],n+=t*t;return this._magnitude=Math.sqrt(n)},e.Vector.prototype.dot=function(e){for(var r=0,s=this.elements,o=e.elements,c=s.length,l=o.length,i=0,a=0,t=0,n=0;t<c&&n<l;)(i=s[t])<(a=o[n])?t+=2:a<i?n+=2:i==a&&(r+=s[t+1]*o[n+1],t+=2,n+=2);return r},e.Vector.prototype.similarity=function(e){return this.dot(e)/this.magnitude()||0},e.Vector.prototype.toArray=function(){for(var t=new Array(this.elements.length/2),e=1,n=0;e<this.elements.length;e+=2,n++)t[n]=this.elements[e];return t},e.Vector.prototype.toJSON=function(){return this.elements},e.stemmer=(k={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},E={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},i="[aeiouy]",a="[^aeiou][^aeiouy]*",o=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),t=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*"),m=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),b=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy]"),l=/^(.+?)(ss|i)es$/,d=/^(.+?)([^s])s$/,u=/^(.+?)eed$/,h=/^(.+?)(ed|ing)$/,n=/.$/,r=/(at|bl|iz)$/,p=new RegExp("([^aeiouylsz])\\1$"),g=new RegExp("^"+a+i+"[^aeiouwxy]$"),v=/^(.+?[^aeiou])y$/,c=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,j=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,y=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,_=/^(.+?)(s|t)(ion)$/,w=/^(.+?)e$/,O=/ll$/,x=new RegExp("^"+a+i+"[^aeiouwxy]$"),function(e){return e.update(A)}),e.Pipeline.registerFunction(e.stemmer,"stemmer"),e.generateStopWordFilter=function(e){var t=e.reduce(function(e,t){return e[t]=t,e},{});return function(e){if(e&&t[e.toString()]!==e.toString())return e}},e.stopWordFilter=e.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),e.Pipeline.registerFunction(e.stopWordFilter,"stopWordFilter"),e.trimmer=function(e){return e.update(function(e){return e.replace(/^\W+/,"").replace(/\W+$/,"")})},e.Pipeline.registerFunction(e.trimmer,"trimmer"),e.TokenSet=function(){this.final=!1,this.edges={},this.id=e.TokenSet._nextId,e.TokenSet._nextId+=1},e.TokenSet._nextId=1,e.TokenSet.fromArray=function(t){for(var n=new e.TokenSet.Builder,s=0,o=t.length;s<o;s++)n.insert(t[s]);return n.finish(),n.root},e.TokenSet.fromClause=function(t){return"editDistance"in t?e.TokenSet.fromFuzzyString(t.term,t.editDistance):e.TokenSet.fromString(t.term)},e.TokenSet.fromFuzzyString=function(t,n){for(var s,i,a,r,c,l,d,h,u=new e.TokenSet,o=[{node:u,editsRemaining:n,str:t}];o.length;)s=o.pop(),0<s.str.length&&(l=s.str.charAt(0),l in s.node.edges?i=s.node.edges[l]:(i=new e.TokenSet,s.node.edges[l]=i),1==s.str.length&&(i.final=!0),o.push({node:i,editsRemaining:s.editsRemaining,str:s.str.slice(1)})),0!=s.editsRemaining&&("*"in s.node.edges?(a=s.node.edges["*"]):(a=new e.TokenSet,s.node.edges["*"]=a),(0==s.str.length&&(a.final=!0),o.push({node:a,editsRemaining:s.editsRemaining-1,str:s.str}),1<s.str.length&&o.push({node:s.node,editsRemaining:s.editsRemaining-1,str:s.str.slice(1)}),1==s.str.length&&(s.node.final=!0),1<=s.str.length)&&("*"in s.node.edges?(r=s.node.edges["*"]):(r=new e.TokenSet,s.node.edges["*"]=r),1==s.str.length&&(r.final=!0),o.push({node:r,editsRemaining:s.editsRemaining-1,str:s.str.slice(1)})),1<s.str.length&&(h=s.str.charAt(0),d=s.str.charAt(1),d in s.node.edges?c=s.node.edges[d]:(c=new e.TokenSet,s.node.edges[d]=c),1==s.str.length&&(c.final=!0),o.push({node:c,editsRemaining:s.editsRemaining-1,str:h+s.str.slice(2)})));return u},e.TokenSet.fromString=function(t){for(var o,i,a,n=new e.TokenSet,c=n,s=0,r=t.length;s<r;s++)o=t[s],a=s==r-1,"*"==o?(n.edges[o]=n).final=a:(i=new e.TokenSet,i.final=a,n.edges[o]=i,n=i);return c},e.TokenSet.prototype.toArray=function(){for(s=[],t=[{prefix:"",node:this}];t.length;){var t,n,s,o,e=t.pop(),i=Object.keys(e.node.edges),a=i.length;e.node.final&&(e.prefix.charAt(0),s.push(e.prefix));for(n=0;n<a;n++)o=i[n],t.push({prefix:e.prefix.concat(o),node:e.node.edges[o]})}return s},e.TokenSet.prototype.toString=function(){if(this._str)return this._str;for(var n,e=this.final?"1":"0",s=Object.keys(this.edges).sort(),o=s.length,t=0;t<o;t++)n=s[t],e=e+n+this.edges[n].id;return e},e.TokenSet.prototype.intersect=function(t){for(var f=new e.TokenSet,n=void 0,c=[{qNode:t,output:f,node:this}];c.length;){n=c.pop();for(var s,i,a,l=Object.keys(n.qNode.edges),g=l.length,d=Object.keys(n.node.edges),p=d.length,r=0;r<g;r++)for(a=l[r],i=0;i<p;i++)if(s=d[i],s==a||"*"==a){var u=n.node.edges[s],h=n.qNode.edges[a],m=u.final&&h.final,o=void 0;s in n.output.edges?(o=n.output.edges[s]).final=o.final||m:((o=new e.TokenSet).final=m,n.output.edges[s]=o),c.push({qNode:h,output:o,node:u})}}return f},e.TokenSet.Builder=function(){this.previousWord="",this.root=new e.TokenSet,this.uncheckedNodes=[],this.minimizedNodes={}},e.TokenSet.Builder.prototype.insert=function(t){if(o=0,t<this.previousWord)throw new Error("Out of order word insertion");for(n=0;n<t.length&&n<this.previousWord.length&&t[n]==this.previousWord[n];n++)o++;this.minimize(o),s=0==this.uncheckedNodes.length?this.root:this.uncheckedNodes[this.uncheckedNodes.length-1].child;for(n=o;n<t.length;n++){var n,s,o,i=new e.TokenSet,a=t[n];s.edges[a]=i,this.uncheckedNodes.push({parent:s,char:a,child:i}),s=i}s.final=!0,this.previousWord=t},e.TokenSet.Builder.prototype.finish=function(){this.minimize(0)},e.TokenSet.Builder.prototype.minimize=function(e){for(n=this.uncheckedNodes.length-1;e<=n;n--){var n,t=this.uncheckedNodes[n],s=t.child.toString();s in this.minimizedNodes?t.parent.edges[t.char]=this.minimizedNodes[s]:(t.child._str=s,this.minimizedNodes[s]=t.child),this.uncheckedNodes.pop()}},e.Index=function(e){this.invertedIndex=e.invertedIndex,this.fieldVectors=e.fieldVectors,this.tokenSet=e.tokenSet,this.fields=e.fields,this.pipeline=e.pipeline},e.Index.prototype.search=function(t){return this.query(function(n){new e.QueryParser(t,n).parse()})},e.Index.prototype.query=function(t){for(var s,i,c,l,f,p,g,v,j,y,_,C,k,M,P,H,h=new e.Query(this.fields),r=Object.create(null),O=Object.create(null),L=Object.create(null),a=Object.create(null),d=Object.create(null),n=0;n<this.fields.length;n++)O[this.fields[n]]=new e.Vector;t.call(h,h);for(n=0;n<h.clauses.length;n++){for(var o=h.clauses[n],x=null,E=e.Set.complete,x=o.usePipeline?this.pipeline.runString(o.term,{fields:o.fields}):[o.term],f=0;f<x.length;f++){if(M=x[f],o.term=M,P=e.TokenSet.fromClause(o),p=this.tokenSet.intersect(P).toArray(),0===p.length&&o.presence===e.Query.presence.REQUIRED){for(i=0;i<o.fields.length;i++)a[s=o.fields[i]]=e.Set.empty;break}for(v=0;v<p.length;v++){var b=p[v],I=this.invertedIndex[b],B=I._index;for(i=0;i<o.fields.length;i++){var A=I[s=o.fields[i]],w=Object.keys(A),R=b+"/"+s,z=new e.Set(w);if(o.presence==e.Query.presence.REQUIRED&&(E=E.union(z),void 0===a[s]&&(a[s]=e.Set.complete)),o.presence!=e.Query.presence.PROHIBITED){if(O[s].upsert(B,o.boost,function(e,t){return e+t}),!L[R]){for(j=0;j<w.length;j++){var T,F=w[j],m=new e.FieldRef(F,s),N=A[F];void 0===(T=r[m])?r[m]=new e.MatchData(b,s,N):T.add(b,s,N)}L[R]=!0}}else void 0===d[s]&&(d[s]=e.Set.empty),d[s]=d[s].union(z)}}}if(o.presence===e.Query.presence.REQUIRED)for(i=0;i<o.fields.length;i++)a[s=o.fields[i]]=a[s].intersect(E)}y=e.Set.complete,g=e.Set.empty;for(n=0;n<this.fields.length;n++)a[s=this.fields[n]]&&(y=y.intersect(a[s])),d[s]&&(g=g.union(d[s]));var u=Object.keys(r),D=[],S=Object.create(null);if(h.isNegated()){u=Object.keys(this.fieldVectors);for(n=0;n<u.length;n++)m=u[n],l=e.FieldRef.fromString(m),r[m]=new e.MatchData}for(n=0;n<u.length;n++)c=(l=e.FieldRef.fromString(u[n])).docRef,y.contains(c)&&!g.contains(c)&&(H=this.fieldVectors[l],C=O[l.fieldName].similarity(H),void 0!==(_=S[c])?(_.score+=C,_.matchData.combine(r[l])):(k={ref:c,score:C,matchData:r[l]},S[c]=k,D.push(k)));return D.sort(function(e,t){return t.score-e.score})},e.Index.prototype.toJSON=function(){var t=Object.keys(this.invertedIndex).sort().map(function(e){return[e,this.invertedIndex[e]]},this),n=Object.keys(this.fieldVectors).map(function(e){return[e,this.fieldVectors[e].toJSON()]},this);return{version:e.version,fields:this.fields,fieldVectors:n,invertedIndex:t,pipeline:this.pipeline.toJSON()}},e.Index.load=function(t){var n,o,a,r,l,m,s={},h={},u=t.fieldVectors,d=Object.create(null),c=t.invertedIndex,i=new e.TokenSet.Builder,f=e.Pipeline.load(t.pipeline);t.version!=e.version&&e.utils.warn("Version mismatch when loading serialised index. Current version of lunr '"+e.version+"' does not match serialized index '"+t.version+"'");for(n=0;n<u.length;n++)l=(o=u[n])[0],r=o[1],h[l]=new e.Vector(r);for(n=0;n<c.length;n++)a=(o=c[n])[0],m=o[1],i.insert(a),d[a]=m;return i.finish(),s.fields=t.fields,s.fieldVectors=h,s.invertedIndex=d,s.tokenSet=i.root,s.pipeline=f,new e.Index(s)},e.Builder=function(){this._ref="id",this._fields=Object.create(null),this._documents=Object.create(null),this.invertedIndex=Object.create(null),this.fieldTermFrequencies={},this.fieldLengths={},this.tokenizer=e.tokenizer,this.pipeline=new e.Pipeline,this.searchPipeline=new e.Pipeline,this.documentCount=0,this._b=.75,this._k1=1.2,this.termIndex=0,this.metadataWhitelist=[]},e.Builder.prototype.ref=function(e){this._ref=e},e.Builder.prototype.field=function(e,t){if(/\//.test(e))throw new RangeError("Field '"+e+"' contains illegal character '/'");this._fields[e]=t||{}},e.Builder.prototype.b=function(e){this._b=e<0?0:1<e?1:e},e.Builder.prototype.k1=function(e){this._k1=e},e.Builder.prototype.add=function(t,n){i=t[this._ref],a=Object.keys(this._fields),this._documents[i]=n||{},this.documentCount+=1;for(c=0;c<a.length;c++){var s,i,a,r,c,l,d,u,m,v,o=a[c],g=this._fields[o].extractor,j=g?g(t):t[o],b=this.tokenizer(j,{fields:[o]}),p=this.pipeline.run(b),f=new e.FieldRef(i,o),h=Object.create(null);this.fieldTermFrequencies[f]=h,this.fieldLengths[f]=0,this.fieldLengths[f]+=p.length;for(m=0;m<p.length;m++){if(s=p[m],null==h[s]&&(h[s]=0),h[s]+=1,null==this.invertedIndex[s]){u=Object.create(null),u._index=this.termIndex,this.termIndex+=1;for(d=0;d<a.length;d++)u[a[d]]=Object.create(null);this.invertedIndex[s]=u}null==this.invertedIndex[s][o][i]&&(this.invertedIndex[s][o][i]=Object.create(null));for(l=0;l<this.metadataWhitelist.length;l++)r=this.metadataWhitelist[l],v=s.metadata[r],null==this.invertedIndex[s][o][i][r]&&(this.invertedIndex[s][o][i][r]=[]),this.invertedIndex[s][o][i][r].push(v)}}},e.Builder.prototype.calculateAverageFieldLengths=function(){for(var n,i,a,r,c=Object.keys(this.fieldLengths),l=c.length,s={},o={},t=0;t<l;t++)a=e.FieldRef.fromString(c[t]),n=a.fieldName,o[n]||(o[n]=0),o[n]+=1,s[n]||(s[n]=0),s[n]+=this.fieldLengths[a];r=Object.keys(this._fields);for(t=0;t<r.length;t++)i=r[t],s[i]=s[i]/o[i];this.averageFieldLength=s},e.Builder.prototype.createFieldVectors=function(){for(var c={},f=Object.keys(this.fieldTermFrequencies),y=f.length,a=Object.create(null),i=0;i<y;i++){for(var n=e.FieldRef.fromString(f[i]),d=n.fieldName,g=this.fieldLengths[n],u=new e.Vector,h=this.fieldTermFrequencies[n],m=Object.keys(h),j=m.length,b=this._fields[d].boost||1,v=this._documents[n.docRef].boost||1,r=0;r<j;r++){var s,o,p,t=m[r],l=h[t],_=this.invertedIndex[t]._index;void 0===a[t]?(s=e.idf(this.invertedIndex[t],this.documentCount),a[t]=s):s=a[t],o=s*((this._k1+1)*l)/(this._k1*(1-this._b+this._b*(g/this.averageFieldLength[d]))+l),o*=b,o*=v,p=Math.round(1e3*o)/1e3,u.insert(_,p)}c[n]=u}this.fieldVectors=c},e.Builder.prototype.createTokenSet=function(){this.tokenSet=e.TokenSet.fromArray(Object.keys(this.invertedIndex).sort())},e.Builder.prototype.build=function(){return this.calculateAverageFieldLengths(),this.createFieldVectors(),this.createTokenSet(),new e.Index({invertedIndex:this.invertedIndex,fieldVectors:this.fieldVectors,tokenSet:this.tokenSet,fields:Object.keys(this._fields),pipeline:this.searchPipeline})},e.Builder.prototype.use=function(e){var t=Array.prototype.slice.call(arguments,1);t.unshift(this),e.apply(this,t)},e.MatchData=function(e,t,n){for(var o,i=Object.create(null),a=Object.keys(n||{}),s=0;s<a.length;s++)o=a[s],i[o]=n[o].slice();this.metadata=Object.create(null),void 0!==e&&(this.metadata[e]=Object.create(null),this.metadata[e][t]=i)},e.MatchData.prototype.combine=function(e){for(var t,n,s,o,i,r,c,l=Object.keys(e.metadata),a=0;a<l.length;a++){t=l[a],r=Object.keys(e.metadata[t]),null==this.metadata[t]&&(this.metadata[t]=Object.create(null));for(o=0;o<r.length;o++){n=r[o],c=Object.keys(e.metadata[t][n]),null==this.metadata[t][n]&&(this.metadata[t][n]=Object.create(null));for(i=0;i<c.length;i++)s=c[i],null==this.metadata[t][n][s]?this.metadata[t][n][s]=e.metadata[t][n][s]:this.metadata[t][n][s]=this.metadata[t][n][s].concat(e.metadata[t][n][s])}}},e.MatchData.prototype.add=function(e,t,n){if(!(e in this.metadata))return this.metadata[e]=Object.create(null),void(this.metadata[e][t]=n);if(t in this.metadata[e])for(var s,i=Object.keys(n),o=0;o<i.length;o++)s=i[o],s in this.metadata[e][t]?this.metadata[e][t][s]=this.metadata[e][t][s].concat(n[s]):this.metadata[e][t][s]=n[s];else this.metadata[e][t]=n},e.Query=function(e){this.clauses=[],this.allFields=e},e.Query.wildcard=new String("*"),e.Query.wildcard.NONE=0,e.Query.wildcard.LEADING=1,e.Query.wildcard.TRAILING=2,e.Query.presence={OPTIONAL:1,REQUIRED:2,PROHIBITED:3},e.Query.prototype.clause=function(t){return"fields"in t||(t.fields=this.allFields),"boost"in t||(t.boost=1),"usePipeline"in t||(t.usePipeline=!0),"wildcard"in t||(t.wildcard=e.Query.wildcard.NONE),t.wildcard&e.Query.wildcard.LEADING&&t.term.charAt(0)!=e.Query.wildcard&&(t.term="*"+t.term),t.wildcard&e.Query.wildcard.TRAILING&&t.term.slice(-1)!=e.Query.wildcard&&(t.term=t.term+"*"),"presence"in t||(t.presence=e.Query.presence.OPTIONAL),this.clauses.push(t),this},e.Query.prototype.isNegated=function(){for(var t=0;t<this.clauses.length;t++)if(this.clauses[t].presence!=e.Query.presence.PROHIBITED)return!1;return!0},e.Query.prototype.term=function(t,n){if(Array.isArray(t))return t.forEach(function(t){this.term(t,e.utils.clone(n))},this),this;var s=n||{};return s.term=t.toString(),this.clause(s),this},e.QueryParseError=function(e,t,n){this.name="QueryParseError",this.message=e,this.start=t,this.end=n},e.QueryParseError.prototype=new Error,e.QueryLexer=function(e){this.lexemes=[],this.str=e,this.length=e.length,this.pos=0,this.start=0,this.escapeCharPositions=[]},e.QueryLexer.prototype.run=function(){for(var t=e.QueryLexer.lexText;t;)t=t(this)},e.QueryLexer.prototype.sliceString=function(){for(var e=[],t=this.start,n=this.pos,s=0;s<this.escapeCharPositions.length;s++)n=this.escapeCharPositions[s],e.push(this.str.slice(t,n)),t=n+1;return e.push(this.str.slice(t,this.pos)),this.escapeCharPositions.length=0,e.join("")},e.QueryLexer.prototype.emit=function(e){this.lexemes.push({type:e,str:this.sliceString(),start:this.start,end:this.pos}),this.start=this.pos},e.QueryLexer.prototype.escapeCharacter=function(){this.escapeCharPositions.push(this.pos-1),this.pos+=1},e.QueryLexer.prototype.next=function(){if(this.pos>=this.length)return e.QueryLexer.EOS;var t=this.str.charAt(this.pos);return this.pos+=1,t},e.QueryLexer.prototype.width=function(){return this.pos-this.start},e.QueryLexer.prototype.ignore=function(){this.start==this.pos&&(this.pos+=1),this.start=this.pos},e.QueryLexer.prototype.backup=function(){--this.pos},e.QueryLexer.prototype.acceptDigitRun=function(){for(var t,n;47<(n=(t=this.next()).charCodeAt(0))&&n<58;);t!=e.QueryLexer.EOS&&this.backup()},e.QueryLexer.prototype.more=function(){return this.pos<this.length},e.QueryLexer.EOS="EOS",e.QueryLexer.FIELD="FIELD",e.QueryLexer.TERM="TERM",e.QueryLexer.EDIT_DISTANCE="EDIT_DISTANCE",e.QueryLexer.BOOST="BOOST",e.QueryLexer.PRESENCE="PRESENCE",e.QueryLexer.lexField=function(t){return t.backup(),t.emit(e.QueryLexer.FIELD),t.ignore(),e.QueryLexer.lexText},e.QueryLexer.lexTerm=function(t){if(1<t.width()&&(t.backup(),t.emit(e.QueryLexer.TERM)),t.ignore(),t.more())return e.QueryLexer.lexText},e.QueryLexer.lexEditDistance=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(e.QueryLexer.EDIT_DISTANCE),e.QueryLexer.lexText},e.QueryLexer.lexBoost=function(t){return t.ignore(),t.acceptDigitRun(),t.emit(e.QueryLexer.BOOST),e.QueryLexer.lexText},e.QueryLexer.lexEOS=function(t){0<t.width()&&t.emit(e.QueryLexer.TERM)},e.QueryLexer.termSeparator=e.tokenizer.separator,e.QueryLexer.lexText=function(t){for(;;){var n=t.next();if(n==e.QueryLexer.EOS)return e.QueryLexer.lexEOS;if(92!=n.charCodeAt(0)){{if(":"==n)return e.QueryLexer.lexField;if("~"==n)return t.backup(),0<t.width()&&t.emit(e.QueryLexer.TERM),e.QueryLexer.lexEditDistance;if("^"==n)return t.backup(),0<t.width()&&t.emit(e.QueryLexer.TERM),e.QueryLexer.lexBoost;if("+"==n&&1===t.width())return t.emit(e.QueryLexer.PRESENCE),e.QueryLexer.lexText;if("-"==n&&1===t.width())return t.emit(e.QueryLexer.PRESENCE),e.QueryLexer.lexText;if(n.match(e.QueryLexer.termSeparator))return e.QueryLexer.lexTerm}}else t.escapeCharacter()}},e.QueryParser=function(t,n){this.lexer=new e.QueryLexer(t),this.query=n,this.currentClause={},this.lexemeIdx=0},e.QueryParser.prototype.parse=function(){this.lexer.run(),this.lexemes=this.lexer.lexemes;for(var t=e.QueryParser.parseClause;t;)t=t(this);return this.query},e.QueryParser.prototype.peekLexeme=function(){return this.lexemes[this.lexemeIdx]},e.QueryParser.prototype.consumeLexeme=function(){var e=this.peekLexeme();return this.lexemeIdx+=1,e},e.QueryParser.prototype.nextClause=function(){var e=this.currentClause;this.query.clause(e),this.currentClause={}},e.QueryParser.parseClause=function(t){var s,n=t.peekLexeme();if(n!=null)switch(n.type){case e.QueryLexer.PRESENCE:return e.QueryParser.parsePresence;case e.QueryLexer.FIELD:return e.QueryParser.parseField;case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:throw s="expected either a field or a term, found "+n.type,1<=n.str.length&&(s+=" with value '"+n.str+"'"),new e.QueryParseError(s,n.start,n.end)}},e.QueryParser.parsePresence=function(t){var s,o,n=t.consumeLexeme();if(n!=null){switch(n.str){case"-":t.currentClause.presence=e.Query.presence.PROHIBITED;break;case"+":t.currentClause.presence=e.Query.presence.REQUIRED;break;default:throw s="unrecognised presence operator'"+n.str+"'",new e.QueryParseError(s,n.start,n.end)}if(o=t.peekLexeme(),o==null)throw s="expecting term or field, found nothing",new e.QueryParseError(s,n.start,n.end);switch(o.type){case e.QueryLexer.FIELD:return e.QueryParser.parseField;case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:throw s="expecting term or field, found '"+o.type+"'",new e.QueryParseError(s,o.start,o.end)}}},e.QueryParser.parseField=function(t){if(n=t.consumeLexeme(),n!=null){if(-1==t.query.allFields.indexOf(n.str)){var n,s,i=t.query.allFields.map(function(e){return"'"+e+"'"}).join(", "),o="unrecognised field '"+n.str+"', possible fields: "+i;throw new e.QueryParseError(o,n.start,n.end)}if(t.currentClause.fields=[n.str],s=t.peekLexeme(),s==null)throw o="expecting term, found nothing",new e.QueryParseError(o,n.start,n.end);switch(s.type){case e.QueryLexer.TERM:return e.QueryParser.parseTerm;default:throw o="expecting term, found '"+s.type+"'",new e.QueryParseError(o,s.start,s.end)}}},e.QueryParser.parseTerm=function(t){var n,o,s=t.consumeLexeme();if(s!=null)if(t.currentClause.term=s.str.toLowerCase(),-1!=s.str.indexOf("*")&&(t.currentClause.usePipeline=!1),n=t.peekLexeme(),n!=null)switch(n.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:throw o="Unexpected lexeme type '"+n.type+"'",new e.QueryParseError(o,n.start,n.end)}else t.nextClause()},e.QueryParser.parseEditDistance=function(t){var n,o,i,s=t.consumeLexeme();if(s!=null){if(i=parseInt(s.str,10),isNaN(i))throw o="edit distance must be numeric",new e.QueryParseError(o,s.start,s.end);if(t.currentClause.editDistance=i,n=t.peekLexeme(),n!=null)switch(n.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:throw o="Unexpected lexeme type '"+n.type+"'",new e.QueryParseError(o,n.start,n.end)}else t.nextClause()}},e.QueryParser.parseBoost=function(t){var n,o,i,s=t.consumeLexeme();if(s!=null){if(i=parseInt(s.str,10),isNaN(i))throw o="boost must be numeric",new e.QueryParseError(o,s.start,s.end);if(t.currentClause.boost=i,n=t.peekLexeme(),n!=null)switch(n.type){case e.QueryLexer.TERM:return t.nextClause(),e.QueryParser.parseTerm;case e.QueryLexer.FIELD:return t.nextClause(),e.QueryParser.parseField;case e.QueryLexer.EDIT_DISTANCE:return e.QueryParser.parseEditDistance;case e.QueryLexer.BOOST:return e.QueryParser.parseBoost;case e.QueryLexer.PRESENCE:return t.nextClause(),e.QueryParser.parsePresence;default:throw o="Unexpected lexeme type '"+n.type+"'",new e.QueryParseError(o,n.start,n.end)}else t.nextClause()}},C=this,s=function(){return e},"function"==typeof define&&define.amd?define(s):"object"==typeof exports?module.exports=s():C.lunr=s()}();const idx=lunr(function(){this.field("id"),this.field("link"),this.field("title"),this.field("body"),this.add({id:"0",link:"https://cyclofix.osm.be/docs/",title:"Documentation",body:"[Open Source can only work when it&rsquo;s well-documented and the vision crystal-clear, enabling others to build upon our work. Here you can find all necessary documentation if you want to get started with the tool yourself, as well as a blogpost describing the vision and the origin of the CycloFix project. To use our map on your own site (to show off your city&rsquo;s amazing bicycle infrastructure), check out &ldquo;embed on your website&rdquo;.]"}),this.add({id:"1",link:"https://cyclofix.osm.be/",title:"CycloFix",body:"[Welcome to CycloFix! CycloFix is a project that saw the light of day during the 10th edition of Open Summer of Code, a 4-week summer programme where students, coaches and organisations develop innovative open source projects. To the map Learn more The team The goal of the CycloFix project, funded by Brussels Mobility, was to come up with a solution to map, present and integrate cycling infrastructure and relevant points of interest (bicycle pumps, repair stations, parkings, bike shops, &hellip;) in the Brussels Capital Region. Therefore, a mapping tool was developped using MapComplete that enables every user to add and/or edit data directly in OpenStreetMap. In order to make this data inventory work, a mapathon was organized during #osoc20 which already boosted the amount of relevant data. However, work in OpenStreetMap is never finished and this project should be able to live on in the future. That&rsquo;s why, during #osoc20, we wanted to ship something valuable and put the emphasis on developping a stable and operational mapping tool. Together with this documentation site, assets and guidance, we want our client and other interested audiences to be able to reuse our map. Moreover, we strongly believe that others should build upon our efforts and can lift the project to a higher level.]"}),this.add({id:"2",link:"https://cyclofix.osm.be/docs/other-tools/",title:"Other data & tools",body:"[It&rsquo;s impossible to integrate all the information that might be relevant to cyclists into one single map. Here are some other projects and sources you might need. Cycle projects in Brussels / Belgium Brussels Bike Routeplanner — take the more quite or scenic route through brussels Villo! — public bike renting in Brussels Cycloparking place — secure bicycle parkling in a locked outdoor shed near your house Cycle counter map — how many cyclists are riding there? Bike Data Project — where do cyclists ride? OpenStreetMap for cyclists OsmAnd — offline cycle maps and routing on Android and IOS Maps.me — offline cycle maps and routing on Android and IOS OSM Cycle Map On Garmin — put a cycle route-focused map on your Garmin GPS, made from OSM data Official Garmin Cycle Map Europe — buy a cycle-focuesed map directly from Garmin Cycle.Travel — find the best route on quiet lanes and cycleways Waymarked Trails — overview map of cycleroutes OpenCycleMap — cycling-focused basemap for your own applications or website]"}),this.add({id:"3",link:"https://cyclofix.osm.be/docs/about-osm/",title:"About OSM",body:"[To maximize the re-usability of the data CycloFix collects, it was decided to use OpenStreetMap (OSM). But why? How does OSM help? You could say OSM is &ldquo;the Wikipedia of maps&rdquo;. Anyone can improve our data. Anyone can re-use it — not necessarily through any official API, but through a whole ecosystem of tools and services that make the data available for a huge range of usecases. We collected some resources that delve deeper into this topic: How to switch to osm Learn OSM 20-page intro to OpenStreetMap, written with (local) governement in mind a listing of projects where governements actively work with OpenStreetMap you just want a free background map in Belgium? CycloFix was built using MapComplete. That tool was invented to make it as easy as possible to harness the power of the crowd to generate detailed map data about any specific topic that fits in OpenStreetMap. Click below to read how we made that choice.]"}),this.add({id:"4",link:"https://cyclofix.osm.be/docs/cyclofix-story/",title:"CycloFix: The Story",body:"[Let us tell you a little story. Imagine a warm summer day with a gentle breeze. You decide to go for a cycling trip and happen to cross the Brussels Capital Region. Suddenly, however, you hear a silent hiss, you look down and notice a flat tire (starts cursing). Sounds familiar, right? Except if you happen to have a bicycle pump with you, you are stuck. So what do you do? You take out your phone and start looking for an answer on the mental question &ldquo;Where can I find the nearest pump to get me back on track?&rdquo;. It would surprise you that chances are that the nearest pump Google Maps or any other website gives you isn&rsquo;t the nearest - if you even find one at all. Especially during the COVID-19 pandemic, the number of people interested in cycling has grown exponentially, making the need for information about where to buy and maintain a bicycle more relevant than ever. And CycloFix is trying to meet that need&hellip; What was the problem? The biggest issue at stake here is that there is a great need for (open) data about cycling infrastructure and other points of interest that can be relevant for cyclists. Think about bicycle pumps, repair stations, bike shops, public parkings and so on. Especially in a bureaucratic and fragmented area like Brussels, with multiple governments and organisations on different levels, such a data inventory can be a hard nut to crack. Besides, you need to know where to find the data in order to use it. It is to say that a data inventory in general requires a lot of work to collect and validate everything (at least if you want to do it in the right way). What is the solution? The solution is actually quite straightforward and already exists: OpenStreetMap (OSM). The collaborative project to create a free editable map of the world is the perfect way to centralize all this data concerning cycling infrastructure in that global database (with the geodata being the main output). The good thing is that a lot of points of interest are already mapped in OSM. The big challenge, however, is to improve the data (both add new and improve existing) and use the crowd to maintain the database. That is, we need people to keep mapping new pumps, repair stations etc. for it to stay up-to-date and relevant. As mentioned before, the geodata is the main output of OSM. That&rsquo;s a polite way of saying that the user interface is often lacking. We focused on showing the data in a pretty way, easily consultable and editable. Finally, it is crucial that we help people, governments and organisations re-use the data and keep improving it. As a result, we developped the CycloFix map/mapping tool that allows us to collect data about the whereabouts of bicycle pumps, repair stations, public racks and other points of interest in Brussels. As a result, cyclists will be able to quickly find the nearest infrastructure for their needs! How does it work? The mapping tool itself works as follows: Add a pin to create a new point of interest Click on a pin to edit an existing point of interest Answer questions to provide more data, depending on the topic (i.e. repair station, shop, parking, &hellip;) Example: when adding or editing a public parking spot, we ask for the type (racks, sheds, loops, &hellip;) and the amount of bicycles that fit in. As a user, it is also important to understand the dynamics of adding data through our tool/MapComplete. Whenever a pin is added or edited, everything will be saved automatically in the OSM database. That also means that the data is open for everyone to (re-)use; i.e. it is not ours anymore. For example, even Facebook uses OSM data to create maps. In other words, people are not only contributing to our specific project, but are improving the database many others are using as well! How did we do it? Initially, we started talking to all relevant stakeholders: the 19 municipalities in the Brussels Capital Region, cycling organisations/advocacy groups and (for the more technical part) the OSM community. We started building on already existing ideas like StreetComplete, MapContrib and Overpass-Turbo. Finally, we decided to use a mixture of StreetComplete and MapContrib called MapComplete. Our focus was on simplification: people should be able to contribute without any technical background. Therefore, three design requirements were imposed: Topical focus: the OSM data model needs to be refined or simplified to be able to extract subsets of data and to match it to simple multiple choice questions. The number of topics needs to be limited to make sure our user base is sufficiently interested to make a good effort. Easy to validate: it should be simple and smooth to validate the (newly) provided data. After all, the quality is equally (if not more important) than trying to add every single point. You can learn more about data validation here. No installation: users don&rsquo;t want to download and install a program, but want to be able to use it instantly. A responsive design that fully works on mobile is crucial. As MapComplete is easy to use, deploy and modify it was the perfect candidate to build upon. During #osoc20 we shaped MapComplete to our needs and were able to test it out during a mapathon that was specifically organized to gather as much of the data needed as possible. You can learn more about such an event here. What happens to CycloFix after #osoc20? In the final stage it was essential that we rolled out the tool to both the local and global community. We made sure other parties such as governments or cycling organisations can easily re-use and integrate the map on their websites. We encourage everyone for whom this tool can be an added value to look into that for sure. You can find out more about integration here. From another point of view we ensured that other topics and/or regions can be developped without much effort. However, we are aware that volunteers and funding is needed to keep adding more features. After all, the solution we provide is only as good as the people who want to put their weight behind it.]"}),this.add({id:"5",link:"https://cyclofix.osm.be/docs/validating-data/",title:"Data validation",body:"[When you edit OpenStreetMap (OSM), all your changes are applied automatically. This makes for a fast mapping environment where you can easily work together. But of course, there are risks to this approach. The OpenStreetMap community handles those risks by constant validation. For this tool, we use the OSMCha. The tool was developped by Mapbox, a company that provides basemaps and other services to large corporations. They provide this tool to any mapper free of charge. In practice Every edit you make in OSM is bundled in a little file, a changeset (example). This file is forever associated with your username (example) and the object you changed (example). In OSMCha we filter changesets: if they have the changeset comment &ldquo;pomp&rdquo; (the name of our instance at the time; this was later changed to &ldquo;cyclofix&rdquo;) if they are in Belgium if the changeset has NOT been reviewed yet within OSMCha if the contributor has NOT been marked as trusted by the current OSMCha user if the edit was made with the Editor &ldquo;MapComplete 0.0.0&rdquo; If you first go to OSMCha.org and connect your OpenStreetMap.org, you can see our filter (this replaces our previous filter). We do not go through all the changes. When we see a new edit, we try to assess if the edit is plausible. We look at the data in the context of other OSM data: maybe it&rsquo;s a duplicate, maybe something that is usually besides a road is mapped in the middle of the road; or inside a building! Then we cross-reference with aereal imagery, the photos provided by the contributor or on Mapillary (a crowd-sourced street-level imagery datasource). We make corrections and imporvements if needed, and mark the changeset as &ldquo;good&rdquo; or &ldquo;bad&rdquo; within OSMCha. If we have checked a few edits of a new contributor and found them to be in perfect shape, we mark the contributor as a &ldquo;trusted user&rdquo;. This list is shared somewhere on the OSM wiki. During this process, we can leave a message on the Changeset for the contributor and the community to see. This creates a public record on any doubts there might be about this particular data-point.]"}),this.add({id:"6",link:"https://cyclofix.osm.be/docs/mapathon/",title:"Mapathons and more",body:"[A mapathon is a coordinated mapping event where the public is invited to make online map improvements in their local area to improve coverage, basically a kind of crowdsourcing. During #osoc20, we organized a mapathon to boost the CycloFix project. It is important to have the right goals in mind when organizing such an event. Our goal was two-sided: increase the coverage of mapped cycling infrastructure in the Brussels Capital Region (collect as much data as possible) AND build a community to keep the map updated (introducing others to OSM). The MapComplete app is ideal to get new people out on the street to add or check original data! Don&rsquo;t plan for a bring-your-computer event, but make it clear to everyone that this is an outdour thing! But how do you set up a mapathon to speed up the data inventory? Below you can find some helpful tips, based on our experience, to get started. Decide on an event model We chose this model: Online introduction (with an optional meeting point) On the street mapping Post-event socializing This allowed for some social distancing while still having some interaction. It would have been possible to do this entirely digital, but the human interaction at the start and end did provide some very valuable input. The online introduction was recorded and is available on YouTube. Before the event Decide on event model Get a location if needed. You don&rsquo;t need anything fancy - though a projector is handy Decide on registrations. We used Eventbrite and sent a follow-up mail to give a lot of detail about how things would go. Decide on an area of focus How to devide the work? &ndash; We created a simple map to say &ldquo;I will map here&rdquo;, then pushed people to go somewhere where no-one else was going &ndash; More structural approaches are possible, for example with a tasking manager Create a video introduction Set up a live video channel for help. We used Jitsi. There was only one person who used this. You need to assign someone to keep an eye on the channel. Create some buzz! Use social media, contact organizations who work around the topic etc Finish the app at least 15 minutes before the event :) During the event Make sure people have a help-line (this was not really used in our case) Make sure you can start collecting feedback Be prepared for live data analysis (because that makes it FUN). We used: Show me the way with the hashtag &ldquo;Mapcomplete&rdquo; Pascal Neis&rsquo;s OSM Changesets filtered by the same An Overpass-Turbo query with the &ldquo;newer&rdquo; filter to return just data that was touched since the event started After the event Be prepared for data clean-up Send a thank you email Send a follow-up email with project status after a little while Make pretty maps During our event 24 people mapped 498 objects. The most productive mappers added 70-100 objects! The map below shows all the added or edited data from the event, coloured by the unique contributor.]"}),this.add({id:"7",link:"https://cyclofix.osm.be/docs/using-data-map/",title:"Re-using the data and map",body:"[Re-using and integrating the CycloFix map Share this map Share this map by copying the link below and sending it to friends and family. https://mapComplete.osm.be/cyclofix.html When you move the map around, the URL is changed a little bit to reflect where exactly you are looking. So move to the location you want to share, and copy the URL again to share that location: https://mapComplete.osm.be/cyclofix.html?z=16&amp;lat=50.8465573&amp;lon=4.351697 When you change the map background or you hide some of the categories, this is also reflected in the URL, for example: https://mapComplete.osm.be/cyclofix.html?&amp;z=16&amp;lat=50.734&amp;lon=4.2363&amp;background=aiv-latest&amp;layer-drinkingwater=false&amp;layer-bikeparking=false&amp;layer-bikeOtherShop=false#element To make sharing even easier, there is a share button on the map itself as well! Add to your home screen You can easily add this website to your home screen for a native feel. Click the &lsquo;add to home screen button&rsquo; in the URL bar to do this. Embed on your website Please, embed this map into your website. We encourage you to do it — you don&rsquo;t even have to ask permission. It is free, and always will be. The more people using this, the more valuable it becomes. 1 &lt;iframe src=&#34;https://mapComplete.osm.be/cyclofix.html&#34; title=&#34;CycloFix with MapComplete&#34;&gt;&lt;/iframe&gt;; To specify the location where the map should start out, add &amp;z=16&amp;lat=50.846&amp;lon=4.3516 at the end of the url, like this: 1 &lt;iframe src=&#34;https://mapComplete.osm.be/cyclofix.html&amp;z=16&amp;lat=50.846&amp;lon=4.3516&#34; title=&#34;Cyclofix with MapComplete&#34;&gt;&lt;/iframe&gt;; Remember to fill in your own lat= (latitude) and lon= (longitude), and to use dots as the decimal seperator (like the example). If you want the map to be more zoomed in, use a z= of more than 16 (up to 19), to make it more zoomed out, choose a smaller number (down to 1). Using the CycloFix data in your own tool There are many ways to use OpenStreetMap data. If you want ALL THE DATA you could download the entire planet, but it&rsquo;s probably more practical to download just Belgium from a service like the Geofabrik download site. They even offer shapefiles for those that like a more structured dataset. In this article, we will work with the Overpass API though. This is an API that is specialized in offering extremely fresh small and medium size datasets. If you are interested in some POI data for a specific area, Overpass is your friend. There is a user interface for using the Overpass API called Overpass turbo. The tool helps you build queries, build links to live data, export data and even make simple webmaps with basic styling. To be able to use the data, you need to have some understanding of the data model. A good resource for bicycle related data modeling in OSM is this wiki page. Example: buying a new bike Most places to buy a bicycle are shop=bicycle However, we need to exclude bicycle repair shops etc. These can be removed: exclude service:bicycle:retail=no. Example You can however buy bikes at some other places as well. For example, special concepts like &ldquo;cycle cafés&rdquo; (amenity=cafe, amenity=pub), clubs or non-profits, or general sports shops that also sell bicycles Combined that gives us this query: [out:json][timeout:25]; ( nwr[&#34;shop&#34;=&#34;bicycle&#34;][&#34;service:bicycle:retail&#34;!=&#34;no&#34;]({{bbox}}); nwr[&#34;service:bicycle:retail&#34;=&#34;yes&#34;]({{bbox}}); ); out center; &gt;; out body qt; Once we have this, we can use the Export function to download the data, the map or a live link to this query. With such a live link, you can set up a nice little [umap] or [mapcontrib] instance to show the result. To make the first try a bit easier, you can simply clone this MapContrib theme or this umap that already integrate the above layer. And if you spot an error, just head over to the CycloFix map!]"})}),simpleIndex=[{id:0,link:"https://cyclofix.osm.be/docs/",title:"Documentation"},{id:1,link:"https://cyclofix.osm.be/",title:"CycloFix"},{id:2,link:"https://cyclofix.osm.be/docs/other-tools/",title:"Other data & tools"},{id:3,link:"https://cyclofix.osm.be/docs/about-osm/",title:"About OSM"},{id:4,link:"https://cyclofix.osm.be/docs/cyclofix-story/",title:"CycloFix: The Story"},{id:5,link:"https://cyclofix.osm.be/docs/validating-data/",title:"Data validation"},{id:6,link:"https://cyclofix.osm.be/docs/mapathon/",title:"Mapathons and more"},{id:7,link:"https://cyclofix.osm.be/docs/using-data-map/",title:"Re-using the data and map"}];function isObj(e){return!!(e&&typeof e=="object"&&e!==null)}function createEl(e="div"){return document.createElement(e)}function emptyEl(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function elem(e,t=document){let n=!!isObj(t)&&t.querySelector(e);return n||!1}function elems(e,t=document){let n=isObj(t)?t.querySelectorAll(e):[];return!!n.length&&n}function pushClass(e,t){if(isObj(e)&&t){let n=e.classList;!n.contains(t)&&n.add(t)}}function deleteClass(e,t){if(isObj(e)&&t){let n=e.classList;!!n.contains(t)&&n.remove(t)}}function modifyClass(e,t){if(isObj(e)&&t){const n=e.classList;n.contains(t)?n.remove(t):n.add(t)}}function containsClass(e,t){if(isObj(e)&&t&&e!==document)return!!e.classList.contains(t)}function isChild(e,t){let n=isObj(e)&&t&&typeof t=="string";return!!(n&&e.closest(t))}function elemAttribute(e,t,n=null){if(n)e.setAttribute(t,n);else return n=e.getAttribute(t),n||!1}function deleteChars(e,t){let n=e;if(Array.isArray(t))for(let e=0;e<t.length;e++)n=n.replace(t[e],"");else n=n.replace(t,"");return n}function isBlank(e){return!e||e.trim().length===0}function isMatch(e,t){if(isObj(e)){if(t.isArray){let n=t.map(function(t){return e.matches(t)});return n.includes(!0)}return e.matches(t)}}function closestInt(e,t){const n=t.reduce(function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t});return n}function hasClasses(e){if(isObj(e)){const t=e.classList;return t.length}}(function(){const n=elem(".nav_header"),t=n.offsetHeight+25,s=elem("main");return s.style.paddingTop=`${t}px`,t})(),function(){const t=elems("code");t&&t.forEach(function(e){hasClasses(e)||!e.children.length&&pushClass(e,"noClass")})}();function activeHeading(e,t){let s="active",n=Object.create(null);n.active=t.filter(function(e){return containsClass(e,s)})[0],n.new=t.filter(function(t){return parseInt(t.dataset.position)===e})[0],n.active!=n.new&&(!!n.active&&deleteClass(n.active,s),pushClass(n.new,s))}function loadActions(){const i="https://cyclofix.osm.be/",r=document.documentElement;(function(){const n=new Date,t=n.getFullYear(),s=elem(".year");!!s&&(t.innerHTML=t)})(),function(){const t="toc_active",s=elem("aside"),n=elems("nav",s);if(n){n.forEach(function(e){if(e.id="",pushClass(e,"toc"),e.children.length>=1){const n=Array.from(e.children[0].children),s=e.previousElementSibling;!!s.matches(".active")&&pushClass(e,t),n.forEach(function(e){pushClass(e,"toc_item"),pushClass(e.firstElementChild,"toc_link")})}});const e=elem(`.${t}`);if(e){const t=Array.from(elems("a",e)),s=t.map(function(e){return e.hash}),n=s.map(function(e){const t=elem(e),n=t.offsetTop;return n});t.forEach(function(e,t){e.dataset.position=n[t]}),window.addEventListener("scroll",function(){let s=window.scrollY,o=closestInt(s,n);activeHeading(o,t)})}}}();function l(e=[],t=[]){let n=new DocumentFragment,s=elem(".search_results");emptyEl(s);let o=0;e.forEach(function(e){let s=createEl("a");s.href=e.link,s.className="search_result",s.textContent=e.title,s.style.order=t[o],n.appendChild(s),o+=1}),s.appendChild(n)}(function(){const t=elem(".search_field");t&&t.addEventListener("input",function(){let n=idx.search(`${this.value}`).slice(0,6),e=n.map(function(e){return`${e.ref}:${e.score}`}),s=e.map(function(e){let t=e.indexOf(":");return e=e.substring(0,t),Number(e)}),o=e.map(function(e){let t=e.indexOf(":");return e=e.substring(t+1,e.length-1),(parseFloat(e)*50).toFixed(0)}),t=simpleIndex.filter(function(e){return s.includes(e.id)});t.length>=1&&l(t,o)})})(),function(){let t=elems("a");const n=".content";t&&Array.from(t).forEach(function(e,t){let o,r,c,a,l,d,s,u;s=elemAttribute(e,"href"),u=s&&typeof s=="string"&&s.startsWith("http")&&!s.startsWith(i)&&e.closest(n),t===1&&console.log(i),u&&(o="target",r="rel",c="_blank",a="noopener",l=elemAttribute(e,o),d=elemAttribute(e,a),!l&&elemAttribute(e,o,c),!d&&elemAttribute(e,r,a))})}();let s=[],o,e,n,a,t,d=["h2","h3","h4","h5","h6"];a=document.URL,d.forEach(function(e){o=document.getElementsByTagName(e),Array.prototype.push.apply(s,o)});function u(e){const n="#",t=e.indexOf(n);if(t>-1){const n=e.substr(t,e.length-1);e=e.replace(n,"")}return e}s.forEach(function(s){e=createEl("a"),n=createEl("img"),n.src="https://cyclofix.osm.be/icons/link.svg",e.className="link icon",e.appendChild(n),t=s.getAttribute("id"),t&&(e.href=`${u(a)}#${t}`,s.appendChild(e),pushClass(s,"link_owner"))});const h=e=>{let t,n,s;t=createEl("textarea"),t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",n=document.getSelection(),r.appendChild(t),s=n.rangeCount>0&&n.getRangeAt(0),t.select(),document.execCommand("copy"),r.removeChild(t),s&&(n.removeAllRanges(),n.addRange(s))};function c(e){const t=document.createElement("div"),n="link_yanked";t.classList.add(n),t.innerText="Link Copied",elem(`.${n}`,e)||(e.appendChild(t),setTimeout(function(){},3e3))}(function(){let n,s,o,i,t;n="link",s=elems(`.${n}`),s&&document.addEventListener("click",function(e){t=e.target,i=t.parentNode,(t&&containsClass(t,n)||containsClass(i,n))&&(e.preventDefault(),o=t.href!=void 0?t.href:t.parentNode.href,h(o),c(t.href!=void 0?t:t.parentNode))})})()}window.addEventListener("load",loadActions())